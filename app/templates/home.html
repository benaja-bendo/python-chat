{% extends 'base.html' %}

{% block title %}App Chat{% endblock %}

{% block content %}
    <style>
        .user-list {
            list-style-type: none;
            padding: 0;
        }

        .user-list li {
            background-color: #f8f9fa;
            border: 1px solid #ddd;
            padding: 10px;
            margin-bottom: 10px;
            border-radius: 5px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .user-list li h3 {
            margin: 0;
            font-weight: bold;
        }

        h2 {
            margin-top: 0;
        }
    </style>
    <div>
        <h2>Liste des utilisateurs de l'application</h2>
        <ul class="user-list">
            {% for user in users %}
                {% if user.username == g.user.username %}
                    <li>
                        <h3>{{ user.username }}</h3>
                    </li>
                {% else %}
                    <li style="min-height:32px">
                        <h3>{{ user.username }}</h3>
                        {% if g.user %}
                        <a href="/private-message/{{ user.username }}">
                            <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" viewBox="0 0 24 24">
                                <path fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"
                                      stroke-width="2"
                                      d="M8 9h8m-8 4h6m4-9a3 3 0 0 1 3 3v8a3 3 0 0 1-3 3h-5l-5 3v-3H6a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h12z"/>
                            </svg>
                        </a>
                        {% endif %} 
                    </li>
                {% endif %}
            {% endfor %}
        </ul>
    </div>
{% endblock %}
